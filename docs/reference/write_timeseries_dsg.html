<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Write time series to NetCDF-CF — write_timeseries_dsg • ncdfgeom</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Write time series to NetCDF-CF — write_timeseries_dsg" />

<meta property="og:description" content="This function creates a timeseries discrete sampling geometry NetCDF file.
It uses the orthogonal array encoding to write one data.frame per
function call. This encoding is best suited to data with the same number of
timesteps per instance (e.g. geometry or station)." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ncdfgeom</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ncdfgeom.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/geometry.html">Reading and Writing NetCDF-CF Geometry</a>
    </li>
    <li>
      <a href="../articles/timeseries.html">Reading and Writing Timeseries</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write time series to NetCDF-CF</h1>
    
    <div class="hidden name"><code>write_timeseries_dsg.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function creates a timeseries discrete sampling geometry NetCDF file.
It uses the orthogonal array encoding to write one <code>data.frame</code> per
function call. This encoding is best suited to data with the same number of
timesteps per instance (e.g. geometry or station).</p>
    
    </div>

    <pre class="usage"><span class='fu'>write_timeseries_dsg</span>(<span class='no'>nc_file</span>, <span class='no'>instance_names</span>, <span class='no'>lats</span>, <span class='no'>lons</span>, <span class='no'>times</span>, <span class='no'>data</span>,
  <span class='kw'>alts</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>data_unit</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>data_prec</span> <span class='kw'>=</span> <span class='st'>"double"</span>,
  <span class='kw'>data_metadata</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"data"</span>, <span class='kw'>long_name</span> <span class='kw'>=</span> <span class='st'>"unnamed data"</span>),
  <span class='kw'>time_units</span> <span class='kw'>=</span> <span class='st'>"days since 1970-01-01 00:00:00"</span>, <span class='kw'>attributes</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(),
  <span class='kw'>add_to_existing</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>nc_file</th>
      <td><p><code>character</code> file path to the nc file to be created.</p></td>
    </tr>
    <tr>
      <th>instance_names</th>
      <td><p><code>character</code> or <code>numeric</code> vector of names for each instance 
(e.g. station or geometry) to be added to the file.</p></td>
    </tr>
    <tr>
      <th>lats</th>
      <td><p><code>numeric</code> vector of latitudes</p></td>
    </tr>
    <tr>
      <th>lons</th>
      <td><p><code>numeric</code> vector of longitudes</p></td>
    </tr>
    <tr>
      <th>times</th>
      <td><p><code>POSIXct</code> vector of times. Must be of type <code>POSIXct</code> or an attempt to 
convert it will be made using <code><a href='https://www.rdocumentation.org/packages/base/topics/as.POSIXlt'>as.POSIXct(times)</a></code>.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p><code>data.frame</code> with each column corresponding to an instance. Rows correspond to 
time steps. nrow must be the same length as times. Column names must match instance names.</p></td>
    </tr>
    <tr>
      <th>alts</th>
      <td><p><code>numeric</code> vector of altitudes (m above sea level) (Optional)</p></td>
    </tr>
    <tr>
      <th>data_unit</th>
      <td><p><code>character</code> vector of data units. Length must be the same as number 
of columns in <code>data</code> parameter.</p></td>
    </tr>
    <tr>
      <th>data_prec</th>
      <td><p><code>character</code> precision of observation data in NetCDF file. 
Valid options: 'short' 'integer' 'float' 'double' 'char'.</p></td>
    </tr>
    <tr>
      <th>data_metadata</th>
      <td><p><code>list</code> A named list of strings: list(name='ShortVarName', long_name='A Long Name')</p></td>
    </tr>
    <tr>
      <th>time_units</th>
      <td><p><code>character</code> units string in udunits format to use for time. Defaults to 'days since 1970-01-01 00:00:00'</p></td>
    </tr>
    <tr>
      <th>attributes</th>
      <td><p>list An optional list of attributes that will be added at the global level. 
See details for useful attributes.</p></td>
    </tr>
    <tr>
      <th>add_to_existing</th>
      <td><p><code>boolean</code> If TRUE and the file already exists, 
variables will be added to the existing file. See details for more.</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>boolean error if file exists.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Suggested Global Variables:
c(title = "title", 
abstract = "history", 
provider site = "institution", 
provider name ="source", 
description = "description")</p>
<p>Note regarding add_to_existing:
add_to_existing = TRUE should only be used to add variables to an existing 
NetCDF discrete sampling geometry file. All other inputs should be the 
same as are already in the file. If the functions is called with 
add_to_existing=FALSE (the default), it will overwrite an existing file 
with the same name. The expected usage is to call this function repeatedly 
only changing the data, data_unit, data_prec and data_metadata inputs.</p>
<p>See the timeseries vignette for more information.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <ol>
<li><p><a href='http://www.unidata.ucar.edu/software/thredds/current/netcdf-java/reference/FeatureDatasets/CFpointImplement.html'>http://www.unidata.ucar.edu/software/thredds/current/netcdf-java/reference/FeatureDatasets/CFpointImplement.html</a></p></li>
<li><p><a href='http://cfconventions.org/cf-conventions/cf-conventions.html#_orthogonal_multidimensional_array_representation'>http://cfconventions.org/cf-conventions/cf-conventions.html#_orthogonal_multidimensional_array_representation</a></p></li>
<li><p><a href='http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/build/cf-conventions.html#time-series-data'>http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/build/cf-conventions.html#time-series-data</a></p></li>
</ol>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by David Blodgett.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

