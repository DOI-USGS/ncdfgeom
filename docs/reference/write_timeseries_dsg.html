<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Write time series to NetCDF-CF — write_timeseries_dsg • ncdfgeom</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Write time series to NetCDF-CF — write_timeseries_dsg"><meta property="og:description" content="This function creates a timeseries discrete sampling geometry NetCDF file.
It uses the orthogonal array encoding to write one data.frame per
function call. This encoding is best suited to data with the same number of
timesteps per instance (e.g. geometry or station)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ncdfgeom</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/ncdfgeom.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/geometry.html">Reading and Writing NetCDF-CF Geometry</a>
    </li>
    <li>
      <a href="../articles/timeseries.html">Reading and Writing Timeseries</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/DOI-USGS/ncdfgeom/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write time series to NetCDF-CF</h1>
    <small class="dont-index">Source: <a href="https://github.com/DOI-USGS/ncdfgeom/blob/HEAD/R/write_timeseries_dsg.R" class="external-link"><code>R/write_timeseries_dsg.R</code></a></small>
    <div class="hidden name"><code>write_timeseries_dsg.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function creates a timeseries discrete sampling geometry NetCDF file.
It uses the orthogonal array encoding to write one <code>data.frame</code> per
function call. This encoding is best suited to data with the same number of
timesteps per instance (e.g. geometry or station).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">write_timeseries_dsg</span><span class="op">(</span></span>
<span>  <span class="va">nc_file</span>,</span>
<span>  <span class="va">instance_names</span>,</span>
<span>  <span class="va">lats</span>,</span>
<span>  <span class="va">lons</span>,</span>
<span>  <span class="va">times</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  alts <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  data_unit <span class="op">=</span> <span class="st">""</span>,</span>
<span>  data_prec <span class="op">=</span> <span class="st">"double"</span>,</span>
<span>  data_metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"data"</span>, long_name <span class="op">=</span> <span class="st">"unnamed data"</span><span class="op">)</span>,</span>
<span>  time_units <span class="op">=</span> <span class="st">"days since 1970-01-01 00:00:00"</span>,</span>
<span>  instance_dim_name <span class="op">=</span> <span class="st">"instance"</span>,</span>
<span>  dsg_timeseries_id <span class="op">=</span> <span class="st">"instance_name"</span>,</span>
<span>  coordvar_long_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>instance <span class="op">=</span> <span class="st">"Station Names"</span>, time <span class="op">=</span> <span class="st">"time of measurement"</span>,</span>
<span>    lat <span class="op">=</span> <span class="st">"latitude of the measurement"</span>, lon <span class="op">=</span> <span class="st">"longitude of the measurement"</span>, alt <span class="op">=</span></span>
<span>    <span class="st">"altitude of the measurement"</span><span class="op">)</span>,</span>
<span>  attributes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  add_to_existing <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>nc_file</dt>
<dd><p><code>character</code> file path to the nc file to be created.</p></dd>


<dt>instance_names</dt>
<dd><p><code>character</code> or <code>numeric</code> vector of names for each instance
(e.g. station or geometry) to be added to the file.</p></dd>


<dt>lats</dt>
<dd><p><code>numeric</code> vector of latitudes</p></dd>


<dt>lons</dt>
<dd><p><code>numeric</code> vector of longitudes</p></dd>


<dt>times</dt>
<dd><p><code>POSIXct</code> vector of times. Must be of type <code>POSIXct</code> or an attempt to
convert it will be made using <code>as.POSIXct(times)</code>.</p></dd>


<dt>data</dt>
<dd><p><code>data.frame</code> with each column corresponding to an instance. Rows correspond to
time steps. nrow must be the same length as times. Column names must match instance names.</p></dd>


<dt>alts</dt>
<dd><p><code>numeric</code> vector of altitudes (m above sea level) (Optional)</p></dd>


<dt>data_unit</dt>
<dd><p><code>character</code> vector of data units. Length must be the same as number
of columns in <code>data</code> parameter.</p></dd>


<dt>data_prec</dt>
<dd><p><code>character</code> precision of observation data in NetCDF file.
Valid options: 'short' 'integer' 'float' 'double' 'char'.</p></dd>


<dt>data_metadata</dt>
<dd><p><code>list</code> A named list of strings: list(name='ShortVarName', long_name='A Long Name')</p></dd>


<dt>time_units</dt>
<dd><p><code>character</code> units string in udunits format to use for time. Defaults to 'days since 1970-01-01 00:00:00'</p></dd>


<dt>instance_dim_name</dt>
<dd><p>the <code>character</code> name to use for the instance used in `instance_names`</p></dd>


<dt>dsg_timeseries_id</dt>
<dd><p>the <code>character</code> name to use for the instance used in the timeseries id</p></dd>


<dt>coordvar_long_names</dt>
<dd><p><code>list</code> values for long names on coordinate variables. Names should be `instance`, time`, `lat`, `lon`, and `alt.`</p></dd>


<dt>attributes</dt>
<dd><p>list An optional list of attributes that will be added at the global level.
See details for useful attributes.</p></dd>


<dt>add_to_existing</dt>
<dd><p><code>boolean</code> If TRUE and the file already exists,
variables will be added to the existing file. See details for more.</p></dd>


<dt>overwrite</dt>
<dd><p>boolean unless set to true, error if file exists.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Suggested Global Variables:
c(title = "title",
abstract = "history",
provider site = "institution",
provider name ="source",
description = "description")</p>
<p>Note regarding add_to_existing:
add_to_existing = TRUE should only be used to add variables to an existing
NetCDF discrete sampling geometry file. All other inputs should be the
same as are already in the file. If the functions is called with
add_to_existing=FALSE (the default), it will overwrite an existing file
with the same name. The expected usage is to call this function repeatedly
only changing the data, data_unit, data_prec and data_metadata inputs.</p>
<p>See the timeseries vignette for more information.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    
<ol><li><p><a href="https://www.unidata.ucar.edu/software/netcdf-java/v4.6/reference/FeatureDatasets/CFpointImplement.html" class="external-link">https://www.unidata.ucar.edu/software/netcdf-java/v4.6/reference/FeatureDatasets/CFpointImplement.html</a></p></li>
<li><p><a href="http://cfconventions.org/cf-conventions/cf-conventions.html#_orthogonal_multidimensional_array_representation" class="external-link">http://cfconventions.org/cf-conventions/cf-conventions.html#_orthogonal_multidimensional_array_representation</a></p></li>
<li><p><a href="http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/build/cf-conventions.html#time-series-data" class="external-link">http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/build/cf-conventions.html#time-series-data</a></p></li>
</ol></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Blodgett.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

